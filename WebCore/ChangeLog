2006-10-05  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Adam.

        rdar://problem/4757081
        Crashes/hangs when using Flash 8 plugin (Flash 9 works MUCH better)
        
        * plugins/win/PluginStreamWin.cpp:
        (WebCore::PluginStreamWin::startStream):
        Encode javascript URLs before passing them to the plugin.

2006-10-05  Darin Adler  <darin@apple.com>

        Reviewed by Adam.

        * platform/win/NotImplemented.h: Changed implementation to use Assertions.h.
        Also fixed both macros to be single-statement macros.

2006-10-05  Darin Adler  <darin@apple.com>

        Reviewed by Adam.

        - fix <rdar://problem/4764253>
          frame targeting not implemented.

        * bridge/win/FrameWin.h: Added new window boolean to openURL. Also changed
        type from DeprecatedString to String.
        * bridge/win/FrameWin.cpp: (WebCore::FrameWin::urlSelected): Added logic
        to do frame targeting.

        * platform/win/BString.h: Added. Convenience for working with
        BSTR and handling allocation/free.
        * platform/win/BString.cpp: Added.
        * WebCore.vcproj/WebCore.vcproj: Added new files.

2006-10-03  Dave Hyatt  <hyatt@apple.com>

        Land the new ScrollView.
        
        Reviewed by anders

        * bridge/win/FrameViewWin.cpp:
        (WebCore::FrameView::passMousePressEventToScrollbar):
        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::thumbLength):
        (WebCore::PlatformScrollBar::hitTest):
        (WebCore::PlatformScrollBar::horizontalScrollBarHeight):
        (WebCore::PlatformScrollBar::verticalScrollBarWidth):
        * platform/win/ScrollViewWin.cpp:
        (WebCore::ScrollView::ScrollViewPrivate::ScrollViewPrivate):
        (WebCore::ScrollView::ScrollViewPrivate::setHasHorizontalScrollBar):
        (WebCore::ScrollView::ScrollViewPrivate::setHasVerticalScrollBar):
        (WebCore::ScrollView::ScrollViewPrivate::valueChanged):
        (WebCore::ScrollView::ScrollView):
        (WebCore::ScrollView::updateContents):
        (WebCore::ScrollView::visibleWidth):
        (WebCore::ScrollView::visibleHeight):
        (WebCore::ScrollView::visibleContentRect):
        (WebCore::ScrollView::resizeContents):
        (WebCore::ScrollView::contentsWidth):
        (WebCore::ScrollView::contentsHeight):
        (WebCore::ScrollView::windowToContents):
        (WebCore::ScrollView::contentsToWindow):
        (WebCore::ScrollView::convertChildToSelf):
        (WebCore::ScrollView::convertSelfToChild):
        (WebCore::ScrollView::scrollOffset):
        (WebCore::ScrollView::maximumScroll):
        (WebCore::ScrollView::scrollBy):
        (WebCore::ScrollView::scrollPointRecursively):
        (WebCore::ScrollView::hScrollBarMode):
        (WebCore::ScrollView::vScrollBarMode):
        (WebCore::ScrollView::suppressScrollBars):
        (WebCore::ScrollView::setHScrollBarMode):
        (WebCore::ScrollView::setVScrollBarMode):
        (WebCore::ScrollView::setScrollBarsMode):
        (WebCore::ScrollView::setStaticBackground):
        (WebCore::ScrollView::updateScrollBars):
        (WebCore::ScrollView::scrollbarUnderMouse):
        (WebCore::ScrollView::addChild):
        (WebCore::ScrollView::removeChild):
        (WebCore::ScrollView::paint):
        (WebCore::ScrollView::scrolled):
        * platform/win/WidgetWin.cpp:
        (WebCore::Widget::Widget):
        (WebCore::Widget::convertToContainingWindow):
        (WebCore::Widget::convertFromContainingWindow):
        (WebCore::Widget::convertChildToSelf):
        (WebCore::Widget::convertSelfToChild):
        (WebCore::Widget::setSuppressInvalidation):
        (WebCore::Widget::invalidateRect):
        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWndProc):
        (WebCore::PluginViewWin::setFrameGeometry):
        (WebCore::PluginViewWin::scrolled):
        * plugins/win/PluginViewWin.h:

2006-10-03  Adam Roben  <aroben@apple.com>

        Reviewed by Steve.

        Improvements to error handling in PluginStreamWin.

        * plugins/win/PluginStreamWin.cpp:
        (WebCore::PluginStreamWin::deliverData): Fail quietly if called after
        termination (due to bad error handling in ResourceLoaderWin), ASSERT if
        called before stream has been started.
        (WebCore::PluginStreamWin::receivedData): Ditto.
        (WebCore::PluginStreamWin::receivedAllData): Ditto.

2006-10-03  Adam Roben  <aroben@apple.com>

        Reviewed by Anders.

        Fixes <rdar://problem/4760963>
        Failed ASSERT in PluginStreamWin::~PluginStreamWin at espn.com

        We now store the state of a stream as a tri-state enum in
        m_streamState. This allows us to differentiate between before and after the
        stream has been started.

        * plugins/win/PluginStreamWin.cpp:
        (WebCore::PluginStreamWin::PluginStreamWin): Initialize members of
        m_stream struct individually.
        (WebCore::PluginStreamWin::~PluginStreamWin):
        (WebCore::PluginStreamWin::startStream):
        (WebCore::PluginStreamWin::destroyStream):
        (WebCore::PluginStreamWin::deliverData): Return early if the stream
        isn't started.
        (WebCore::PluginStreamWin::receivedData): Ditto.
        (WebCore::PluginStreamWin::receivedAllData): Ditto.
        * plugins/win/PluginStreamWin.h:
        (WebCore::): Add PluginStreamState enum.

2006-10-03  Adam Roben  <aroben@apple.com>

        Reviewed by Darin.

        Fixes <rdar://problem/4603342>
        Keyboard navigability

        Implement tabbing between form elements (in the single-frame case).

        * bridge/win/FrameWin.cpp: Add methods to determine tabbing
        preferences.
        (WebCore::FrameWin::tabsToLinks):
        (WebCore::FrameWin::tabsToAllControls):
        * bridge/win/FrameWin.h: Add tabsToLinks() to FrameWinClient
        * platform/win/ScrollViewWin.cpp:
        (WebCore::ScrollView::scrollPointRecursively): Implemented for
        single-frame case.
        * platform/win/TemporaryLinkStubs.cpp: Remove stub for now-implemented
        ScrollView::scrollPointsRecursively

2006-10-02  Adam Roben  <aroben@apple.com>

        Reviewed by Maciej.

        Fixes <rdar://problem/4743497>
        Can't check checkboxes

        Let Windows determine which mouse button is pressed.

        * platform/win/PlatformMouseEventWin.cpp:
        (WebCore::PlatformMouseEvent::PlatformMouseEvent): Use message
        parameter to determine which mouse button is pressed.

2006-10-02  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Hyatt.

        <rdar://4757387> (partial fix) Unable to sign on to my.yahoo.com
        <rdar://4757405> (partial fix) Unable to log onto secure site (www.schwab.com)
        <rdar://4757411> (partial fix) Unable to log onto any AppleConnect site (but using back and resubmiting works)

        WinInet fixes.
        Don't post data using HTTP when HTTPS should be used.
        Fix redirect from POST to GET case.
        
        There is a remaining bug with the way that we queue WinInet callbacks
        still to be addressed.

        * platform/win/ResourceLoaderWin.cpp:
        (WebCore::addToOutstandingJobs): Skip dwContext of 0 (rollover case).
        (WebCore::ResourceLoaderWndProc): Call default wndproc properly.
            Pass INTERNET_FLAG_SECURE when necessary for HTTPS.
            Fix redirect code.
            Initialize buffers struct.
            Pass proper context in InternetReadFileExA
        (WebCore::initializeOffScreenResourceLoaderWindow): Init a struct to {0} instead of using memset.
        (WebCore::transferJobStatusCallback): Prevent future bugs by making an else a bit more explicit.
        (WebCore::ResourceLoader::start): Pass proper port for HTTP vs. HTTPS.
        (WebCore::ResourceLoader::cancel): Zero out handle when closing.

2006-10-01  Dave Hyatt  <hyatt@apple.com>

        Finish the scrollbar.  Handle arrow and track scrolling.  Everything is finished now except for implementing a Win2k look.

        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::PlatformScrollBar):
        (WebCore::PlatformScrollBar::~PlatformScrollBar):
        (WebCore::PlatformScrollBar::thumbRect):
        (WebCore::PlatformScrollBar::handleMouseMoveEvent):
        (WebCore::PlatformScrollBar::handleMousePressEvent):
        (WebCore::PlatformScrollBar::handleMouseReleaseEvent):
        (WebCore::PlatformScrollBar::startTimerIfNeeded):
        (WebCore::PlatformScrollBar::stopTimerIfNeeded):
        (WebCore::PlatformScrollBar::autoscrollPressedPart):
        (WebCore::PlatformScrollBar::autoscrollTimerFired):
        (WebCore::PlatformScrollBar::pressedPartScrollDirection):
        (WebCore::PlatformScrollBar::pressedPartScrollGranularity):
        (WebCore::PlatformScrollBar::thumbUnderMouse):

2006-10-01  Dave Hyatt  <hyatt@apple.com>
        
        Make thumb dragging work on the scrollbar.
        
        Fix mouse and wheel events to use GET_X_LPARAM and GET_Y_LPARAM so that negative coordinates work.
        (This comes up when a widget is capturing events and the mouse moves outside the HWND.)
        
        * platform/win/PlatformMouseEventWin.cpp:
        (WebCore::positionForEvent):
        (WebCore::globalPositionForEvent):
        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::PlatformScrollBar):
        (WebCore::PlatformScrollBar::handleMouseMoveEvent):
        (WebCore::PlatformScrollBar::handleMousePressEvent):
        (WebCore::PlatformScrollBar::handleMouseReleaseEvent):
        (WebCore::PlatformScrollBar::startTimerIfNeeded):
        (WebCore::PlatformScrollBar::stopTimerIfNeeded):
        * platform/win/WheelEventWin.cpp:
        (WebCore::positionForEvent):
        (WebCore::globalPositionForEvent):

2006-10-01  Dave Hyatt  <hyatt@apple.com>

        Hook up the mouse capture architecture so that child widgets capture events while the mouse is pressed.
        
        Hook up tracking the pressed object on a scrollbar and proper painting of the scrollbar's
        pressed state.
        
        * bridge/win/FrameViewWin.cpp:
        (WebCore::FrameView::passMousePressEventToSubframe):
        (WebCore::FrameView::passMousePressEventToScrollbar):
        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::PlatformScrollBar):
        (WebCore::PlatformScrollBar::paintButton):
        (WebCore::PlatformScrollBar::paintTrack):
        (WebCore::PlatformScrollBar::paintThumb):
        (WebCore::PlatformScrollBar::paintGripper):
        (WebCore::PlatformScrollBar::handleMouseMoveEvent):
        (WebCore::PlatformScrollBar::handleMousePressEvent):
        (WebCore::PlatformScrollBar::handleMouseReleaseEvent):
        * platform/win/WidgetWin.cpp:
        (WebCore::Widget::setCapturingChild):

2006-09-30  Dave Hyatt  <hyatt@apple.com>

        This patch makes iframes and frames able to receive mouse events.  Down, up, click, selection
        all work.  This patch also fixes bugs in scrolling and makes wheel events work on iframes.
        A capturing system for routing events to the proper subwidget when the mouse has down
        is also stubbed out (but not yet used).
        
        Reviewed by andersca

        * WebCore.vcproj/WebCore.vcproj:
        * bridge/win/FrameViewWin.cpp: Added.
        (WebCore::FrameView::passMousePressEventToSubframe):
        (WebCore::FrameView::passMouseMoveEventToSubframe):
        (WebCore::FrameView::passMouseReleaseEventToSubframe):
        (WebCore::FrameView::passWheelEventToSubframe):
        * bridge/win/FrameWin.cpp:
        * bridge/win/FrameWin.h:
        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::handleMouseMoveEvent):
        (WebCore::PlatformScrollBar::handleMouseOutEvent):
        (WebCore::PlatformScrollBar::handleMouseReleaseEvent):
        * platform/win/ScrollViewWin.cpp:
        (WebCore::ScrollView::visibleContentRect):
        (WebCore::ScrollView::scrollBy):
        (WebCore::ScrollView::removeChild):
        * platform/win/TemporaryLinkStubs.cpp:
        (FrameWin::print):
        (FrameWin::lastEventIsMouseUp):
        * platform/win/WidgetWin.cpp:
        (WebCore::Widget::Widget):
        (WebCore::Widget::capturingMouse):
        (WebCore::Widget::setCapturingMouse):
        (WebCore::Widget::capturingTarget):
        (WebCore::Widget::capturingChild):
        (WebCore::Widget::setCapturingChild):

2006-09-29  Steve Falkenburg  <sfalken@apple.com>

        Fix the build.

        * platform/win/PlatformScrollBarWin.cpp:

2006-09-29  Adele Peterson  <adele@apple.com>

        Adding RenderListBox files.

        * WebCore.vcproj/WebCore.vcproj:

2006-09-29  Adele Peterson  <adele@apple.com>

        Reviewed by Adam.

        Updated constructor for PlatformScrollBar to include controlSize argument.

        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::PlatformScrollBar):

2006-09-29  Adam Roben  <aroben@apple.com>

        Reviewed by hyatt.

        Add error logging to plugin code.

        * WebCore.vcproj/WebCore.vcproj: Added PluginDebug.h
        * platform/win/NotImplemented.h: Add surrounding #ifndef/#endif
        * plugins/win/PluginDebug.h: Added.
        * plugins/win/PluginPackageWin.cpp: Add error logging
        (WebCore::PluginPackageWin::load):
        * plugins/win/PluginStreamWin.cpp: Ditto.
        (WebCore::PluginStreamWin::startStream):
        (WebCore::PluginStreamWin::destroyStream):
        (WebCore::PluginStreamWin::deliverData):
        (WebCore::PluginStreamWin::receivedAllData):
        * plugins/win/PluginViewWin.cpp: Ditto.
        (WebCore::PluginViewWin::start):
        (WebCore::PluginViewWin::stop):
        (WebCore::PluginViewWin::newStream):
        (WebCore::PluginViewWin::write):
        (WebCore::PluginViewWin::destroyStream):

2006-09-29  Dave Hyatt  <hyatt@apple.com>

        Fork MouseEventWin.cpp into (the better-named) PlatformMouseEventWin.cpp.
        
        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/PlatformMouseEventWin.cpp: Added.

2006-09-28  Dave Hyatt  <hyatt@apple.com>

        Make scrollbars scroll correctly when setValue is called.  Needed to do float math instead of integer
        math (and also fix some buggy math when computing the thumb position).
 
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::thumbPosition):

2006-09-28  Dave Hyatt  <hyatt@apple.com>

        Make scrollbars on Win32 respond to hover events.  The thumb and arrow buttons will now properly hover when
        the mouse enters and exits them.
        
        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::invalidatePart):
        (WebCore::PlatformScrollBar::paintButton):
        (WebCore::PlatformScrollBar::paintTrack):
        (WebCore::PlatformScrollBar::paintThumb):
        (WebCore::PlatformScrollBar::paintGripper):
        (WebCore::PlatformScrollBar::hitTest):
        (WebCore::PlatformScrollBar::mouseMoved):
        (WebCore::PlatformScrollBar::mouseExited):

2006-09-28  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Maciej.

        Use $(ConfigSuffix) set via vsprops files to add _debug
        to end of debug filenames.

        Update B&I build script.

        * WebCore.vcproj/WebCore.make:
        * WebCore.vcproj/WebCore.vcproj:
        * WebCore.vcproj/debug.vsprops: Added.
        * WebCore.vcproj/release.vsprops: Added.

2006-09-28  Adam Roben  <aroben@apple.com>

        Reviewed by Hyatt.

        Avoid creating LOGFONTs for bitmap fonts under CG, since we don't
        support them anyway.

        * platform/win/FontCacheWin.cpp:
        (WebCore::FontCache::createFontPlatformData): Set lfOutPrecision to
        OUT_TT_ONLY_PRECIS to avoid bitmap fonts.
        * platform/win/FontPlatformDataWin.cpp:
        (WebCore::FontPlatformData::FontPlatformData): Change the LOG_ERROR
        back to an ASSERT since we should never reach this condition now.

2006-09-28  Dave Hyatt  <hyatt@apple.com>

        This patch eliminates viewportToContents/contentsToViewport in favor of convertTo/FromContainingWindow.
        ScrollView now subclasses these methods to factor in its scrollOffset and to deal with the document
        view.
       
        Reviewed by mjs (the convertTo/From changes), (I added the elimination of viewportToContents to
        the patch after review, once I realized that these new functions essentially do the same thing.)

        * platform/win/ScrollViewWin.cpp:
        (WebCore::ScrollView::updateContents):
        (WebCore::ScrollView::convertToContainingWindow):
        (WebCore::ScrollView::convertFromContainingWindow):
        (WebCore::ScrollView::scrollBy):
        * platform/win/WidgetWin.cpp:
        (WebCore::Widget::convertToContainingWindow):
        (WebCore::Widget::convertFromContainingWindow):

2006-09-28  Adam Roben  <aroben@apple.com>

        Reviewed by Anders.

        Fail without crashing and log an error when CG encounters a bitmap
        font.

        * platform/win/FontPlatformDataWin.cpp:
        (WebCore::FontPlatformData::FontPlatformData): Trade LOG_ERROR for
        ASSERT_WITH_MESSAGE

2006-09-27  Alice Liu  <alice.liu@apple.com>

        Reviewed by Steve & Adam.

        * WebCore.vcproj/WebCore.vcproj:
        Added files to the project file
        * platform/win/TemporaryLinkStubs.cpp:
        Removed stub for findWordBoundary
        * platform/win/TextBoundariesWin.cpp: Added.
        Implemented cross-platform findWordBoundary.  We're still keeping the mac one intact for now. 
        (WebCore::findWordBoundary):

2006-09-28  Adam Roben  <aroben@apple.com>

        Reviewed by Adele.

        Remove never-to-be-used PopUpButton

        * WebCore.vcproj/WebCore.vcproj: Remove PopUpButton.h
        * platform/win/TemporaryLinkStubs.cpp: Remove PopUpButton:: methods

2006-09-28  Adam Roben  <aroben@apple.com>

        Reviewed by Alice.

        Replace notImplemented() with LOG_NOIMPL() and STOP_NOIMPL() macros
        which generate debug output. STOP_NOIMPL() also generates a debug
        break. Replace calls to notImplemented() with
        LOG_NOIMPL()/STOP_NOIMPL() as appropriate. This should stop some unnecessary
        crashes where notImplemented() was called from a method that can fail
        safely.

        * WebCore.vcproj/WebCore.vcproj: Added NotImplemented.h
        * platform/win/FontWin.cpp: Use LOG_NOIMPL() instead of notImplemented().
        (WebCore::Font::selectionRectForComplexText):
        (WebCore::Font::drawComplexText):
        (WebCore::Font::floatWidthForComplexText):
        (WebCore::Font::offsetForPositionForComplexText):
        * platform/win/NotImplemented.h: Added. Contains new LOG_NOIMPL() and
        STOP_NOIMPL() macros.
        * platform/win/TemporaryLinkStubs.cpp: Use LOG_NOIMPL() and
        STOP_NOIMPL() instead of notImplemented() or nothing.
        (PopUpButton::focusPolicy):
        (PopUpButton::populate):
        (Widget::enableFlushDrawing):
        (Widget::focusPolicy):
        (Widget::disableFlushDrawing):
        (Widget::lockDrawingFocus):
        (Widget::unlockDrawingFocus):
        (JavaAppletWidget::JavaAppletWidget):
        (TextField::selectAll):
        (TextField::addSearchResult):
        (TextField::selectionStart):
        (TextField::hasSelectedText):
        (TextField::selectedText):
        (TextField::setAutoSaveName):
        (TextField::checksDescendantsForFocus):
        (TextField::setSelection):
        (TextField::setMaxResults):
        (TextField::edited):
        (Slider::Slider):
        (Slider::sizeHint):
        (Slider::setValue):
        (Slider::setMaxValue):
        (Slider::setMinValue):
        (Slider::~Slider):
        (Slider::setFont):
        (Slider::value):
        (ListBox::sizeForNumberOfLines):
        (ListBox::isSelected):
        (ListBox::checksDescendantsForFocus):
        (Slider::focusPolicy):
        (ListBox::focusPolicy):
        (TextField::focusPolicy):
        (Cursor::Cursor):
        (PlatformMouseEvent::PlatformMouseEvent):
        (WebCore::searchableIndexIntroduction):
        (WebCore::findNextSentenceFromIndex):
        (WebCore::findSentenceBoundary):
        (WebCore::findNextWordFromIndex):
        (WebCore::ServeSynchronousRequest):
        (FrameWin::focusWindow):
        (FrameWin::unfocusWindow):
        (FrameWin::locationbarVisible):
        (FrameWin::registerCommandForRedo):
        (FrameWin::getObjectInstanceForWidget):
        (FrameWin::getEmbedInstanceForWidget):
        (FrameWin::getAppletInstanceForWidget):
        (FrameWin::canRedo):
        (FrameWin::canUndo):
        (FrameWin::canPaste):
        (FrameWin::canGoBackOrForward):
        (FrameWin::shouldInterruptJavaScript):
        (FrameWin::openURL):
        (FrameWin::print):
        (FrameWin::passMouseDownEventToWidget):
        (FrameWin::issueCutCommand):
        (FrameWin::issueCopyCommand):
        (FrameWin::issuePasteCommand):
        (FrameWin::issueUndoCommand):
        (FrameWin::issueRedoCommand):
        (FrameWin::issuePasteAndMatchStyleCommand):
        (FrameWin::issueTransposeCommand):
        (FrameWin::passWheelEventToChildWidget):
        (FrameWin::mimeTypeForFileName):
        (FrameWin::scheduleClose):
        (FrameWin::markMisspellings):
        (FrameWin::menubarVisible):
        (FrameWin::personalbarVisible):
        (FrameWin::statusbarVisible):
        (FrameWin::toolbarVisible):
        (FrameWin::originalRequestURL):
        (FrameWin::isLoadTypeReload):
        (BrowserExtensionWin::canRunModal):
        (BrowserExtensionWin::createNewWindow):
        (BrowserExtensionWin::canRunModalNow):
        (BrowserExtensionWin::runModal):
        (BrowserExtensionWin::goBackOrForward):
        (BrowserExtensionWin::historyURL):
        (GraphicsContext::addRoundedRectClip):
        (GraphicsContext::addInnerRoundedRectClip):
        (WebCore::screenDepthPerComponent):
        (WebCore::screenIsMonochrome):
        (WebCore::moveCursor):
        (WebCore::inputElementAltText):
        (WebCore::findWordBoundary):
        (WebCore::ResourceLoader::assembleResponseHeaders):
        (WebCore::ResourceLoader::retrieveCharset):
        (FrameView::updateBorder):
        (FrameWin::restoreDocumentState):
        (FrameWin::partClearedInBegin):
        (FrameWin::createEmptyDocument):
        (FrameWin::overrideMediaType):
        (FrameWin::markedTextRange):
        (FrameWin::addMessageToConsole):
        (FrameWin::shouldChangeSelection):
        (FrameWin::respondToChangedSelection):
        (FrameWin::saveDocumentState):
        (FrameWin::registerCommandForUndo):
        (FrameWin::clearUndoRedoOperations):
        (FrameWin::incomingReferrer):
        (FrameWin::markMisspellingsInAdjacentWords):
        (FrameWin::respondToChangedContents):
        (BrowserExtensionWin::BrowserExtensionWin):
        (BrowserExtensionWin::setTypedIconURL):
        (BrowserExtensionWin::setIconURL):
        (BrowserExtensionWin::getHistoryLength):
        (WebCore::CheckIfReloading):
        (WebCore::CheckCacheObjectStatus):
        (Widget::setIsSelected):
        (ScrollView::inWindow):
        (ScrollView::scrollPointRecursively):
        (GraphicsContext::setShadow):
        (GraphicsContext::clearShadow):
        (GraphicsContext::beginTransparencyLayer):
        (GraphicsContext::endTransparencyLayer):
        (GraphicsContext::clearRect):
        (GraphicsContext::strokeRect):
        (GraphicsContext::setLineWidth):
        (GraphicsContext::setLineCap):
        (GraphicsContext::setLineJoin):
        (GraphicsContext::setMiterLimit):
        (GraphicsContext::setAlpha):
        (GraphicsContext::clip):
        (GraphicsContext::rotate):
        (GraphicsContext::scale):
        (Path::Path):
        (Path::~Path):
        (Path::contains):
        (Path::translate):
        (Path::boundingRect):
        (Path::operator=):
        (Path::clear):
        (Path::moveTo):
        (Path::addLineTo):
        (Path::addQuadCurveTo):
        (Path::addBezierCurveTo):
        (Path::addArcTo):
        (Path::closeSubpath):
        (Path::addArc):
        (Path::addRect):
        (Path::addEllipse):
        (GraphicsContext::drawFocusRing):
        (GraphicsContext::drawLineForMisspelling):
        (GraphicsContext::setCompositeOperation):
        (TextField::TextField):
        (TextField::~TextField):
        (TextField::setFont):
        (TextField::setAlignment):
        (TextField::setWritingDirection):
        (TextField::maxLength):
        (TextField::setMaxLength):
        (TextField::text):
        (TextField::setText):
        (TextField::cursorPosition):
        (TextField::setCursorPosition):
        (TextField::setEdited):
        (TextField::setReadOnly):
        (TextField::setPlaceholderString):
        (TextField::setColors):
        (TextField::sizeForCharacterWidth):
        (TextField::baselinePosition):
        (TextField::setLiveSearch):
        (PopUpButton::PopUpButton):
        (PopUpButton::~PopUpButton):
        (PopUpButton::setFont):
        (PopUpButton::baselinePosition):
        (PopUpButton::setWritingDirection):
        (PopUpButton::clear):
        (PopUpButton::appendItem):
        (PopUpButton::setCurrentItem):
        (PopUpButton::sizeHint):
        (PopUpButton::frameGeometry):
        (PopUpButton::setFrameGeometry):
        (ListBox::ListBox):
        (ListBox::~ListBox):
        (ListBox::setSelectionMode):
        (ListBox::setFont):
        (ListBox::setWritingDirection):
        (ListBox::clear):
        (ListBox::doneAppendingItems):
        (ListBox::setEnabled):
        (ListBox::appendItem):
        (ListBox::setSelected):
        (WebCore::focusRingColor):
        (WebCore::setFocusRingColorChangeFunction):
        (Frame::setNeedsReapplyStyles):
        (Image::drawTiled):
        (RenderPopupMenuWin::addSeparator):
        (RenderPopupMenuWin::addGroupLabel):
        (IconLoader::receivedResponse):
        (IconLoader::notifyIconChanged):
        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::setValue):

2006-09-28  Adam Roben  <aroben@apple.com>

        Rubberstamped by sfalken.

        Remove calls to DebugBreak() from plugin code.

        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::getValue):
        (WebCore::PluginViewWin::setValue):

2006-09-28  Dave Hyatt  <hyatt@apple.com>

        Eliminate the use of MapWindowPoints on Win32. Just use the outermost HWND as the point of reference for events.  
        
        Stub out the mouse methods from the open source checkin and add a new member variable to track the current hovered scrollbar part.

        * platform/win/PlatformScrollBar.h:
        (WebCore::):
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::PlatformScrollBar):
        (WebCore::PlatformScrollBar::mouseMoved):
        (WebCore::PlatformScrollBar::mouseExited):
        * platform/win/ScrollViewWin.cpp:
        (WebCore::ScrollView::viewportToContents):
        (WebCore::ScrollView::contentsToViewport):
        * platform/win/WheelEventWin.cpp:
        (WebCore::positionForEvent):

2006-09-27  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Maciej.

        Leave ChickenCat SDK untouched by build.
        
        This change will become necessary once we have JavaScriptCore,
        WebCore, WebKit, and SafariWin in the ChickenCat SDK.
        
        Prefer pulling project dependencies from WebKitOutputDir over
        WebKitSDKDir.  Don't copy build output back over to WebKitSDKDir.

        * WebCore.vcproj/WebCore.vcproj:
        * WebCore.vcproj/build-generated-files.sh:
        * WebCore.vcproj/dstroot-to-sdk.cmd: Removed.

2006-09-27  Steve Falkenburg  <sfalken@apple.com>

        B&I build fixes

        * WebCore.vcproj/WebCore.make:
        * WebCore.vcproj/WebCore.vcproj:
        * WebCore.vcproj/build-generated-files.sh:

2006-09-27  Adam Roben  <aroben@apple.com>

        Reviewed by sfalken.

        Don't die when plugins try to open a new window.

        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::performRequest): Remove call to DebugBreak()

2006-09-27  Steve Falkenburg  <sfalken@apple.com>

        B&I build script tweaks.

        * WebCore.vcproj/WebCore.make:

2006-09-27  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Hyatt.

        Turn on CG

        * config.h:

2006-09-27  Adam Roben  <aroben@apple.com>

        Reviewed by Lou.

        Fix crash in plugins due to Flash on nytimes.com

        * plugins/win/PluginStreamWin.cpp:
        (WebCore::PluginStreamWin::PluginStreamWin): memset m_stream to 0

2006-09-27  Adam Roben  <aroben@apple.com>

        Reviewed by sfalken.

        Scroll plugins (at least in some cases).

        * platform/win/ScrollViewWin.cpp:
        (WebCore::ScrollView::scrollBy): Pass SW_SCROLLCHILDREN to ScrollWindowEx()

2006-09-27  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Adam.

        Remove unimplemented from a temporary link stub.

        * platform/win/TemporaryLinkStubs.cpp:
        (GraphicsContext::addInnerRoundedRectClip):

2006-09-27  Sean Gies  <seangies@apple.com>

        Reviewed by Brady Eidson.

        * WebCore.vcproj/WebCore.vcproj: Added platform/win/WebCoreSystemInterface.h/cpp
        * platform/win/WebCoreSystemInterface.cpp: Added.
        * platform/win/WebCoreSystemInterface.h: Added.

2006-09-26  Adam Roben  <aroben@apple.com>

        Reviewed by sfalken.

        Fixes <rdar://problem/4751600>
        Hang on Amazon.com involving Flash

        * plugins/win/PluginStreamWin.cpp: Rename m_streamStarted to
        m_isTerminated to match Mac code (m_isTerminated is the negation of
        m_streamStarted)
        (WebCore::PluginStreamWin::PluginStreamWin): Initialize m_isTerminated
        to false to match Mac code.
        (WebCore::PluginStreamWin::~PluginStreamWin): Rename and negate.
        (WebCore::PluginStreamWin::stop): Remove assignment of m_streamStarted
        to match Mac code.
        (WebCore::PluginStreamWin::startStream): Rename and negate. Remove
        now-unnecessary assignment of m_streamStarted to true because we set
        m_isTerminated to false in the constructor.
        (WebCore::PluginStreamWin::destroyStream): Rename and negate.
        * plugins/win/PluginStreamWin.h: Rename m_streamStarted to
        m_isTerminated.
        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::performRequest): Send the correct response URL
        to the plugin.

2006-09-26  Steve Falkenburg  <sfalken@apple.com>

        More temporary link stubs moved.
        Build tweaks.

        * ChangeLog:
        * WebCore.vcproj/WebCore.make: Added.
        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/TemporaryLinkStubs.cpp:
        (ListBox::isSelected):
        (ListBox::setWritingDirection):
        (ListBox::clear):
        (ListBox::doneAppendingItems):
        (ListBox::setEnabled):
        (ListBox::appendItem):
        (ListBox::setSelected):

2006-09-26  Sean Gies  <seangies@apple.com>

        Reviewed by Brady Eidson.

        * platform/win/GraphicsContextWin.cpp:
        (WebCore::CGContextWithHDC):  Make a static function.
        (WebCore::GraphicsContext::getWindowsContext): Assume flipped coordinates.

2006-09-26  Brady Eidson  <beidson@apple.com>

        Nuked another notImplemented() that is getting hit

        * platform/win/TemporaryLinkStubs.cpp:
        (GraphicsContext::addRoundedRectClip):

2006-09-26  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        * WebCore.vcproj/WebCore.vcproj: Use Debug DLL C runtime for debug config.

2006-09-26  Lou Amadio  <lamadio@apple.com>

        Reviewed by ggaren
        Uninitialized variable caused a memory corruption on cnn.com

        WARNING: NO TEST CASES ADDED OR CHANGED

        * plugins/win/PlugInInfoStoreWin.cpp:
        (WebCore::PlugInInfoStore::createPluginInfoForPluginAtIndex):

2006-09-26  Dave Hyatt  <hyatt@apple.com>

        Fix my buggy invalidateRect implementation for Win32 widgets.
        
        Clean up my rect computation code in scrollbar to use x() and y() instead of
        frameGeometry().x()/y().
        
        Add a new invalidateTrack() method that invalidates the track (and handles
        putting the rect into the right coordinate space for proper invalidation
        now that I fixed invalidateRect).

        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::updateThumbPosition):
        (WebCore::PlatformScrollBar::updateThumbProportion):
        (WebCore::PlatformScrollBar::invalidateTrack):
        (WebCore::PlatformScrollBar::backButtonRect):
        (WebCore::PlatformScrollBar::forwardButtonRect):
        (WebCore::PlatformScrollBar::trackRect):
        * platform/win/WidgetWin.cpp:
        (WebCore::Widget::invalidate):

2006-09-26  Dave Hyatt  <hyatt@apple.com>

        Teach all our Win32 theme code (RenderTheme and PlatformScrollBar) how to respond correctly to OS theme changes.
        
        Implement painting of scrollbars using theme APIs.  The arrow buttons, track, thumb and gripper all paint properly
        now.  Next up is hit testing and proper hover feedback.
        
        Reviewed by andersca
        
        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::PlatformScrollBar):
        (WebCore::PlatformScrollBar::paint):
        (WebCore::PlatformScrollBar::backButtonRect):
        (WebCore::PlatformScrollBar::forwardButtonRect):
        (WebCore::PlatformScrollBar::trackRect):
        (WebCore::PlatformScrollBar::gripperRect):
        (WebCore::PlatformScrollBar::splitTrack):
        (WebCore::PlatformScrollBar::thumbPosition):
        (WebCore::PlatformScrollBar::thumbLength):
        (WebCore::PlatformScrollBar::paintButton):
        (WebCore::PlatformScrollBar::paintTrack):
        (WebCore::PlatformScrollBar::paintThumb):
        (WebCore::PlatformScrollBar::paintGripper):
        (WebCore::PlatformScrollBar::themeChanged):
        * platform/win/ScrollViewWin.cpp:
        (WebCore::ScrollView::themeChanged):
        * platform/win/TemporaryLinkStubs.cpp:
        (Widget::enableFlushDrawing):
        * platform/win/WidgetWin.cpp:
        (WebCore::Widget::isEnabled):
        * rendering/RenderThemeWin.cpp:
        (WebCore::RenderThemeWin::RenderThemeWin):
        (WebCore::RenderThemeWin::openButtonTheme):
        (WebCore::RenderThemeWin::openTextFieldTheme):
        (WebCore::RenderThemeWin::openMenuListTheme):
        (WebCore::RenderThemeWin::close):
        (WebCore::RenderThemeWin::themeChanged):
        * rendering/RenderThemeWin.h:

2006-09-25  Adam Roben  <aroben@apple.com>

        Rubberstamped by sfalken.

        Set svn:eol-style to native and cleanup line endings on plugins files.

        * plugins/win/PluginStreamWin.cpp:
        (WebCore::PluginStreamWin::PluginStreamWin):
        (WebCore::PluginStreamWin::~PluginStreamWin):
        (WebCore::PluginStreamWin::start):
        (WebCore::PluginStreamWin::startStream):
        (WebCore::PluginStreamWin::destroyStream):
        (WebCore::PluginStreamWin::deliverData):
        (WebCore::PluginStreamWin::receivedResponse):
        (WebCore::PluginStreamWin::receivedData):
        (WebCore::PluginStreamWin::receivedAllData):

2006-09-25  Adam Roben  <aroben@apple.com>

        Reviewed by Brady.

        Fixes <rdar://problem/4749494>
        Crash/ASSERT in plugins at Fark.com

        * platform/win/ResourceLoaderWin.cpp: Store whether a particular job
        has received a response within the ResourceLoader object itself, since
        it's possible that we will enter the InternetReadFileExA while loop
        twice for the same job.
        (WebCore::ResourceLoaderWndProc): Ask the job whether it has received a
        response instead of assuming it hasn't.
        (WebCore::ResourceLoader::setHasReceivedResponse): Added.
        (WebCore::ResourceLoader::hasReceivedResponse): Added.

2006-09-25  Adam Roben  <aroben@apple.com>

        Rubberstamped by sfalken.

        Continuing the removal of unnecessary notImplemented() calls.

        * platform/win/TemporaryLinkStubs.cpp:
        (PlatformMouseEvent::PlatformMouseEvent):
        (FrameWin::passWheelEventToChildWidget):

2006-09-25  Adam Roben  <aroben@apple.com>

        Rubberstamped by sfalken.

        More notImplemented()-ectomy.

        * platform/win/TemporaryLinkStubs.cpp:
        (RenderPopupMenuWin::addSeparator):
        (RenderPopupMenuWin::addGroupLabel):

2006-09-25  Adam Roben  <aroben@apple.com>

        Rubberstamped by sfalken.

        Remove calls to notImplemented() from functions that can fail safely.

        * platform/win/TemporaryLinkStubs.cpp:
        (FrameWin::originalRequestURL):
        (FrameWin::isLoadTypeReload):
        (IconLoader::receivedResponse):
        (IconLoader::notifyIconChanged):

2006-09-25  Adam Roben  <aroben@apple.com>

        Rubberstamped by sfalken.

        Make notImplemented() crash even when not linked against the debug CRT.

        * platform/win/TemporaryLinkStubs.cpp:
        (notImplemented): Change _CrtDbgBreak() to ASSERT(0)

2006-09-24  Dave Hyatt  <hyatt@apple.com>

        Update the scrollbar API to match the changes in the public tree.
        
        Start implementing the Win32 scrollbar.  Add some scaffolding for grabbing uxtheme.dll info and also
        add some utility functions for breaking the scrollbar into individual components.
        
        * platform/win/PlatformScrollBar.h:
        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::PlatformScrollBar):
        (WebCore::PlatformScrollBar::updateThumbPosition):
        (WebCore::PlatformScrollBar::updateThumbProportion):
        (WebCore::PlatformScrollBar::paint):
        (WebCore::PlatformScrollBar::backButtonRect):
        (WebCore::PlatformScrollBar::forwardButtonRect):
        (WebCore::PlatformScrollBar::trackRect):
        (WebCore::PlatformScrollBar::splitTrack):

2006-09-22  Steve Falkenburg  <sfalken@apple.com>

        Fix release build some more.

        * WebCore.vcproj/WebCore.vcproj:

2006-09-22  Brady Eidson  <beidson@apple.com>

        Extremely urgent update to my last two patches (without it, many urls will fail to load)

        * platform/win/ResourceLoaderWin.cpp:
        (WebCore::ResourceLoader::onRequestComplete):

2006-09-22  Brady Eidson  <beidson@apple.com>

        Forgot some lines we needed to keep for the internal build in my last checkin

        * platform/win/ResourceLoaderWin.cpp:

2006-09-22  Brady Eidson  <beidson@apple.com>

        Reviewed by Steve

        Landed from OpenSource - that version now supports Redirect like we need, and is a little cleaner design

        * platform/win/ResourceLoaderWin.cpp:
        (WebCore::):
        (WebCore::ResourceLoaderWndProc):
        (WebCore::initializeOffScreenResourceLoaderWindow):
        (WebCore::ResourceLoaderInternal::~ResourceLoaderInternal):
        (WebCore::ResourceLoader::onHandleCreated):
        (WebCore::ResourceLoader::onRequestRedirected):
        (WebCore::ResourceLoader::onRequestComplete):
        (WebCore::transferJobStatusCallback):
        (WebCore::ResourceLoader::start):
        (WebCore::ResourceLoader::fileLoadTimer):
        (WebCore::ResourceLoader::cancel):

2006-09-22  Dave Hyatt <hyatt@apple.com>

        Implement support for CSS2 system fonts on Win32.  Implement support for our special control font so that controls now
        pick up the correct font from the system.  This fixes the crazy form control font sizes on e.g., www.google.com.

        * platform/win/TemporaryLinkStubs.cpp:
        * rendering/RenderThemeWin.cpp:
        (WebCore::fillFontDescription):
        (WebCore::RenderThemeWin::systemFont):

2006-09-22  Dave Hyatt <hyatt@apple.com>

        Scrollbar preparation work.
        
        (1) Add support for enabling/disabling widgets.
        (2) Add support for invalidation of part or all of a widget.
        (3) Clean up some of the Win32 scrollbar code.  All that's left is painting
        and event handling. (Oh, is that all...) :)

        Reviewed by anders

        * platform/win/PlatformScrollBarWin.cpp:
        (WebCore::PlatformScrollBar::setScrollBarValue):
        (WebCore::PlatformScrollBar::setKnobProportion):
        (WebCore::PlatformScrollBar::setEnabled):
        (WebCore::PlatformScrollBar::paint):
        * platform/win/TemporaryLinkStubs.cpp:
        * platform/win/WidgetWin.cpp:
        (WebCore::Widget::Widget):
        (WebCore::Widget::setEnabled):
        (WebCore::Widget::invalidate):
        (WebCore::Widget::invalidateRect):

2006-09-21  Brady Eidson <beidson@apple.com>

        Build was broken for at least some, and I think my checkin that messed with 
        #include orders was to blame (and it was messy, broken or not) - this cleans that up

        * platform/win/ResourceLoaderWin.cpp:

2006-09-21  Alice Liu  <alice.liu@apple.com>

        Reviewed by Hyatt.

        windows build fix

        * platform/win/GraphicsContextWin.cpp:
        wrapped a CG #include in #if PLATFORM(CG)

2006-09-21  Geoffrey Garen  <ggaren@apple.com>

        Reviewed by Maciej, Hyatt, Steve.
    
        frames!
        
        Prep work:
            - moved ScrollViewWin into OpenSourceWin
            - set eol-style:native on some files and corrected line endings
            - updated the WebCore project so that you don't need cygwin in your Windows path
              to build correctly.

        Real work:

            On Windows, Widgets are no longer interfaces to Windows UI tookit objects. They're 
            just positioned objects.
                
            Widgets position themselves relative to their parents. The top-level widget technically
            has a position relative to the WebView, but that's academic, since it's always (0, 0).
            All widgets draw inside a common containing window (the WebView window). ScrollView 
            handles transformation, clipping, and dirty rect management.
            
            I've filed a bunch of bugs on remaining frames work. Most notably, closing a page with
            a frame in it causes a crash because WebCore depends on WebKit to manage frame lifetime.
            I'm going to fix that by integrating frame ownership into the DOM.
            
2006-09-21  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Anders.
        
        <rdar://4516072>
        <rdar://4601320>
        
        Implemented JavaScript alert/confirm/prompt inside app.
        This is done via IWebUIDelegate.

        * bridge/win/FrameWin.cpp:
        (WebCore::FrameWin::userAgent):
        (WebCore::FrameWin::runJavaScriptAlert):
        (WebCore::FrameWin::runJavaScriptConfirm):
        (WebCore::FrameWin::runJavaScriptPrompt):
        * bridge/win/FrameWin.h:
        * platform/win/TemporaryLinkStubs.cpp:
        (FrameWin::registerCommandForRedo):

2006-09-21  Sean Gies  <seangies@apple.com>

        Reviewed by NOBODY (OOPS!).

        Unfork GraphicsContextCG.cpp.

        * WebCore.vcproj/WebCore.vcproj: Unfork GraphicsContextCG.cpp and add GraphicsContextWin.cpp
        * platform/win/GraphicsContextWin.cpp: Added.

2006-09-21  Luke Wallis  <wallis@apple.com>

        Rubber stamped by Steve.

        Added (commented out for now) defines for building on PLATFORM(CG).

        * config.h:

2006-09-21  Luke Wallis <wallis@apple.com>

        Reviewed by Adam Roben.

        Fix build. Added #if PLATFORM(CG) around variable defined only for CG.

        * platform/win/FontDataWin.cpp:
        (WebCore::FontData::platformInit):

2006-09-21  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Draw form controls when rendering with CG.

        * platform/cg/GraphicsContextCG.cpp:
        (WebCore::CGContextWithHDC): New function to create CGContext given an HDC.
        (WebCore::GraphicsContext::GraphicsContext): New constructor that takes an HDC.
        (WebCore::GraphicsContext::getWindowsContext): Return underlying HDC to client.
        (WebCore::GraphicsContext::releaseWindowsContext): Restore underlying HDC after client mucked with it.
        * platform/cg/GraphicsContextPlatformPrivate.h: Add field to hold HDC.
        * rendering/RenderThemeWin.cpp: Implement prepareForDrawing and doneDrawing for CG.

2006-09-21  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Tim O.

        Support getting the plugin element as an NPObject.
        
        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::getValue):
        (WebCore::PluginViewWin::PluginViewWin):
        * plugins/win/PluginViewWin.h:

2006-09-21  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Forked GraphicsContextCG.cpp and GraphicsContextPlatformPrivate.h from open source #16504.

        * platform/cg/GraphicsContextCG.cpp: Added.
        * platform/cg/GraphicsContextPlatformPrivate.h: Added.

2006-09-21  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Support synthetic bold and/or oblique with CG.

        * platform/win/FontCacheWin.cpp: Pass new arguments to updated FontPlatformData constructor.
        * platform/win/FontDataWin.cpp:
        (WebCore::FontData::platformInit): Choose synthetic bold offset.
        (WebCore::FontData::platformWidthForGlyph): Take synthetic bold offset into account.
        * platform/win/FontPlatformData.h: Add fields for synthetic styles.
        * platform/win/FontPlatformDataWin.cpp: Ask HFONT if it supports bold or italics.
        * platform/win/FontWin.cpp:
        (WebCore::Font::drawGlyphs): Restore code for implementing synthetic stlyes.

2006-09-21  Brady Eidson  <beidson@apple.com>

        Reviewed by Anders

        Fixed one definite bug and did alot of cleanup to make it resemble the unforked version of the file
        in preparation for merging it back out

        * platform/win/ResourceLoaderWin.cpp:
        (WebCore::ResourceLoaderWndProc):
        (WebCore::transferJobStatusCallback): Fixed a bug here!  :)
        (WebCore::ResourceLoader::start):
        (WebCore::ResourceLoader::fileLoadTimer):
        (WebCore::ResourceLoader::cancel):

2006-09-21  2006-09-21  Dave Hyatt <hyatt@apple.com>

        Implement mouse wheel scrolling on Win32.  Also forked ScrollViewWin.cpp and fixed some bugs in it.

        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/ScrollViewWin.cpp: Added.
        (WebCore::ScrollView::ScrollViewPrivate::ScrollViewPrivate):
        (WebCore::ScrollView::ScrollView):
        (WebCore::ScrollView::~ScrollView):
        (WebCore::ScrollView::updateContents):
        (WebCore::ScrollView::visibleWidth):
        (WebCore::ScrollView::visibleHeight):
        (WebCore::ScrollView::visibleContentRect):
        (WebCore::ScrollView::setContentsPos):
        (WebCore::ScrollView::resizeContents):
        (WebCore::ScrollView::contentsX):
        (WebCore::ScrollView::contentsY):
        (WebCore::ScrollView::contentsWidth):
        (WebCore::ScrollView::contentsHeight):
        (WebCore::ScrollView::viewportToContents):
        (WebCore::ScrollView::contentsToViewport):
        (WebCore::ScrollView::scrollOffset):
        (WebCore::ScrollView::maximumScroll):
        (WebCore::ScrollView::scrollBy):
        (WebCore::ScrollView::hScrollBarMode):
        (WebCore::ScrollView::vScrollBarMode):
        (WebCore::ScrollView::suppressScrollBars):
        (WebCore::ScrollView::setHScrollBarMode):
        (WebCore::ScrollView::setVScrollBarMode):
        (WebCore::ScrollView::setScrollBarsMode):
        (WebCore::ScrollView::setStaticBackground):
        (WebCore::ScrollView::updateScrollInfo):
        (WebCore::ScrollView::updateScrollBars):
        (WebCore::ScrollView::wheelEvent):
        * platform/win/WheelEventWin.cpp: Added.
        (WebCore::positionForEvent):
        (WebCore::globalPositionForEvent):
        (WebCore::PlatformWheelEvent::PlatformWheelEvent):

2006-09-20  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Added platform/cg/ColorCG.cpp

        * WebCore.vcproj/WebCore.vcproj: Add ColorCG.cpp
        * platform/cg/ColorCG.cpp: Added.

2006-09-20  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Fixed ugly text spacing issues with CG for Windows.

        * platform/win/FontDataWin.cpp: Reimplement platformWidthForGlyph using CG APIs.

2006-09-19  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Dave Hyatt.
        
        <rdar://problem/4734743> Crash accessing YouTube.
        
        * config.h:
        Enable some more of the JSC bindings code on Windows.
        
2006-09-18  Brady Eidson  <beidson@apple.com>

        YABF, and merged a change from open source ResourceLoaderWin.cpp

        * bridge/win/FrameWin.h:
        * platform/win/ResourceLoaderWin.cpp:
        (WebCore::ResourceLoader::fileLoadTimer):
        * platform/win/TemporaryLinkStubs.cpp:
        (FrameWin::isLoadTypeReload):

2006-09-18  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Support bold & italics.

        * platform/win/FontPlatformDataWin.cpp: Use GetOutlineTextMetrics instead of GetTextFace to
            query HFONT name.

2006-09-18  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Changes to bring up CoreGraphics on Windows.

        * WebCore.vcproj/WebCore.vcproj: Search platform/cg for headers.  Compile platform/cg/*.cpp.
             Add AffineTransform.cpp to build.
        * platform/win/FontDataWin.cpp: Include CG before using it.
        * platform/win/FontPlatformDataWin.cpp: Fixed typo.
        * platform/win/ImageWin.cpp: Include CG and winsock2.  Implement CG version of Image::getHBITMAP.
             In Cairo version of Image::getHBITMAP, use correct bitmapInfo field and return true for success.
             Fixed image loading bug.

2006-09-18  Brady Eidson  <beidson@apple.com>

        Rubberstamp by Adam

        Build fix

        * bridge/win/FrameWin.h:
        * platform/win/TemporaryLinkStubs.cpp:
        (FrameWin::originalRequestURL):

2006-09-18  Sean Gies  <seangies@apple.com>

        Reviewed by Adam Roben.

        Forked FontCacheWin.cpp from OpenSource tree r16421.

        * WebCore.vcproj/WebCore.vcproj: Point to Internal file.
        * platform/win/FontCacheWin.cpp: Added.

2006-09-15  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Steve.

        * WebCore.vcproj/WebCore.vcproj:
        Add JavaScriptCore/ to include path.

2006-09-15  Adam Roben  <aroben@apple.com>

        Reviewed by sfalken.

        Implement historyContains() on Windows (rdar://4733770)

        * WebCore.vcproj/WebCore.vcproj: Add
        platform\win\WebCoreHistory.{cpp,h} and bridge\win\HistoryWin.cpp to
        project.
        * bridge/win/HistoryWin.cpp: Added.
        (WebCore::historyContains):
        * platform/win/TemporaryLinkStubs.cpp: Remove stub for
        WebCore::historyContains()
        * platform/win/WebCoreHistory.cpp: Added.
        (WebCore::WebCoreHistory::setHistoryProvider):
        (WebCore::WebCoreHistory::historyProvider):
        * platform/win/WebCoreHistory.h: Added.

2006-09-14  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Lou Amadio.

        iBench fix - fix WinInet form post code to not reference a stale pointer.
        (found by Application Verifier)

        * platform/win/ResourceLoaderWin.cpp:
        (WebCore::ResourceLoaderWndProc):

2006-09-14  Adam Roben  <aroben@apple.com>

        Reviewed by sfalken.

        A little #include cleanup

        * WebCore.vcproj/WebCore.vcproj: Add loader/icon to
        AdditionalIncludeDirectories
        * platform/win/TemporaryLinkStubs.cpp: Remove "loader/icon" from
        #include of IconLoader.h

2006-09-14  Brady Eidson  <beidson@apple.com>

        Build Fix

        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/TemporaryLinkStubs.cpp:
        (IconLoader::receivedResponse):
        (IconLoader::notifyIconChanged):

2006-09-13  Steve Falkenburg  <sfalken@apple.com>

        Fixes for submission of WebCore.  Doesn't affect build.

        * WebCore.vcproj/WebCore.vcproj:
        * WebCore.vcproj/merge-opensource.sh:

2006-09-12  Steve Falkenburg  <sfalken@apple.com>

        Rubber-stamped by Ada.

        Get Boomer ready for B&I submission.
       
        Projects can now all build independent of one another
        without groping for headers or source across trees.

        * WebCore.vcproj/WebCore.sln: Fix standalone sln for use by B&I.
        * WebCore.vcproj/WebCore.vcproj: Update to new obj layout.
        * WebCore.vcproj/build-generated-files.sh: Build derived sources into obj, update to new obj layout.
        * WebCore.vcproj/dstroot-to-sdk.cmd: Copy built bits back to WebKitSDKDir for dependent builds.

2006-09-13  Adam Roben  <aroben@apple.com>

        Build fix

        * WebCore.vcproj/WebCore.vcproj: Rename KHTML_XSLT to XSLT_SUPPORT,
        remove KHTML_NO_XBL
        * config.h: Ditto.

2006-09-13  Adam Roben  <aroben@apple.com>

        Reviewed by beidson.

        Initial implementation of Icon, FileChooser on Windows.

        * WebCore.vcproj/WebCore.vcproj: Added FileChooserWin.cpp, IconWin.cpp
        * platform/win/FileChooserWin.cpp: Added.
        (WebCore::FileChooser::FileChooser):
        (WebCore::FileChooser::openFileChooser):
        (WebCore::FileChooser::basenameForWidth):
        (WebCore::FileChooser::uploadControlDetaching):
        (WebCore::FileChooser::chooseFile):
        * platform/win/IconWin.cpp: Added.
        (WebCore::Icon::Icon):
        (WebCore::Icon::~Icon):
        (WebCore::Icon::newIconForFile):
        (WebCore::Icon::paint):
        * platform/win/TemporaryLinkStubs.cpp: Removed FileChooser, Icon stub
        functions

2006-09-13  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Tim O.

        Implement postURL and postURLNotify.

        * plugins/win/PluginStreamWin.cpp:
        (WebCore::PluginStreamWin::~PluginStreamWin):
        (WebCore::PluginStreamWin::start):
        (WebCore::PluginStreamWin::startStream):
        (WebCore::PluginStreamWin::cancelAndDestroyStream):
        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::start):
        (WebCore::PluginViewWin::loadURL):
        (WebCore::PluginViewWin::getURLNotify):
        (WebCore::PluginViewWin::getURL):
        (WebCore::startsWithBlankLine):
        (WebCore::locationAfterFirstBlankLine):
        (WebCore::findEOL):
        (WebCore::capitalizeRFC822HeaderFieldName):
        (WebCore::parseRFC822HeaderFields):
        (WebCore::PluginViewWin::handlePost):
        (WebCore::PluginViewWin::postURLNotify):
        (WebCore::PluginViewWin::postURL):
        * plugins/win/PluginViewWin.h:

2006-09-13  Lou Amadio  <lamadio@apple.com>

        Reviewed by sfalken

        - Fixed retail build by adding the SDK entry for SQLite

        * WebCore.vcproj/WebCore.vcproj:

2006-09-13  Adam Roben  <aroben@apple.com>

        Build fix

        * WebCore.vcproj/build-generated-files.sh: Export SOURCE_ROOT which is
        now used by CodeGenerator.pm

2006-09-12  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Tim O.

        Add scripting support for plugins.
        
        * bridge/win/FrameWin.cpp:
        (WebCore::FrameWin::FrameWin):
        (WebCore::FrameWin::addPluginRootObject):
        (WebCore::FrameWin::cleanupPluginObjects):
        (WebCore::FrameWin::bindingRootObject):
        (WebCore::FrameWin::windowScriptNPObject):
        * bridge/win/FrameWin.h:
        * plugins/win/PluginPackageWin.cpp:
        (WebCore::PluginPackageWin::load):
        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::getValue):
        * plugins/win/npapi.cpp:
        (NPN_RequestRead):
        (NPN_InvalidateRect):
        (NPN_InvalidateRegion):
        (NPN_ForceRedraw):

2006-09-12  Adam Roben  <aroben@apple.com>

        Reviewed many times by darin, hyatt.

        Add stubs for new engine-based file upload control implementation and
        Icon class.

        * WebCore.vcproj/WebCore.vcproj: Add new engine-based files, remove old
        widget-based files.
        * platform/win/TemporaryLinkStubs.cpp: Add stubs for FileChooser and
        Icon methods, and add two new LocalizedString methods.
        (WebCore::fileButtonChooseFileLabel):
        (WebCore::fileButtonNoFileSelectedLabel):
        (FileChooser::FileChooser):
        (FileChooser::~FileChooser):
        (FileChooser::openFileChooser):
        (FileChooser::basenameForWidth):
        (FileChooser::uploadControlDetaching):
        (Icon::~Icon):
        (Icon::paint):

2006-09-11  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Tim O.

        Add stream and URL handling to PluginViewWin. Include PluginStreamWin.cpp in the build.
        Also fix a number of bugs discovered when loading various plugins.
        
        * WebCore.vcproj/WebCore.vcproj:
        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginRequestWin::PluginRequestWin):
        (WebCore::PluginRequestWin::url):
        (WebCore::PluginRequestWin::target):
        (WebCore::PluginRequestWin::notifyData):
        (WebCore::PluginRequestWin::sendNotification):
        (WebCore::scriptStringIfJavaScriptURL):
        (WebCore::registerPluginView):
        (WebCore::PluginViewWndProc):
        (WebCore::PluginViewWin::updateSize):
        (WebCore::PluginViewWin::setFrameGeometry):
        (WebCore::PluginViewWin::start):
        (WebCore::PluginViewWin::stop):
        (WebCore::createUTF8String):
        (WebCore::PluginViewWin::performRequest):
        (WebCore::PluginViewWin::requestTimerFired):
        (WebCore::PluginViewWin::scheduleRequest):
        (WebCore::PluginViewWin::loadURL):
        (WebCore::makeURL):
        (WebCore::PluginViewWin::getURLNotify):
        (WebCore::PluginViewWin::getURL):
        (WebCore::PluginViewWin::newStream):
        (WebCore::PluginViewWin::write):
        (WebCore::PluginViewWin::destroyStream):
        (WebCore::PluginViewWin::userAgent):
        (WebCore::PluginViewWin::~PluginViewWin):
        (WebCore::PluginViewWin::PluginViewWin):
        * plugins/win/PluginViewWin.h:

2006-09-11  Anders Carlsson  <acarlsson@apple.com>

        * WebCore.vcproj/WebCore.vcproj:
        Fix build.
        
2006-09-11  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Tim O and Maciej.

        Add plugin stream object.
        
        * plugins/win/PluginStreamWin.cpp: Added.
        (WebCore::PluginStreamWin::PluginStreamWin):
        (WebCore::PluginStreamWin::~PluginStreamWin):
        (WebCore::PluginStreamWin::setRequestHeaders):
        (WebCore::PluginStreamWin::setPostData):
        (WebCore::PluginStreamWin::start):
        (WebCore::PluginStreamWin::stop):
        (WebCore::PluginStreamWin::startStream):
        (WebCore::PluginStreamWin::cancelAndDestroyStream):
        (WebCore::PluginStreamWin::destroyStream):
        (WebCore::PluginStreamWin::delayDeliveryTimerFired):
        (WebCore::PluginStreamWin::deliverData):
        (WebCore::PluginStreamWin::receivedResponse):
        (WebCore::PluginStreamWin::receivedData):
        (WebCore::PluginStreamWin::receivedAllData):
        * plugins/win/PluginStreamWin.h: Added.

2006-09-10  Brady Eidson  <beidson@apple.com>

        Reviewed by Steven Falkenburg

        Added IconDatabase related code and forked ImageWin for its HBITMAP blit

        * WebCore.vcproj/WebCore.vcproj: Added in all WebCore::IconDatabase stuffs
        * platform/win/ImageWin.cpp: Added. (forked from OpenSource)
        (WebCore::Image::initPlatformData):
        (WebCore::Image::invalidatePlatformData):
        (WebCore::Image::loadPlatformResource):
        (WebCore::Image::supportsType):
        (WebCore::Image::getHBITMAP): Added - blit the image to an HBITMAP 
        
2006-09-10  David Hyatt  <hyatt@apple.com>

        Remove the addIntrinsicMargins code from the theme.  I did this
        in the open source version but forgot to do it in the internal
        version.

        * rendering/RenderThemeWin.cpp:
        (WebCore::RenderThemeWin::adjustButtonStyle):
        (WebCore::RenderThemeWin::adjustTextFieldStyle):
        (WebCore::RenderThemeWin::adjustTextAreaStyle):
        (WebCore::RenderThemeWin::adjustMenuListStyle):

2006-09-10  Brady Eidson  <beidson@apple.com>

        Reviewed by YABF, and Adam's suggestive rubberstamp before he hopped offline

        Build fix + FIXME/Radar to reflect an OpenSource change to the Font.h header

        * platform/win/FontWin.cpp:
        (WebCore::Font::drawGlyphs): Added the parameter and a FIXME 

2006-09-10  Steve Falkenburg  <sfalken@apple.com>

        Rubber-stamp by aroben.
        
        Pick up SDK from $(WebKitSDKDir).

        * WebCore.vcproj/WebCore.vcproj:

2006-09-09  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by aroben.

        Boomer SDK migration.  Pull all external dependencies in from Boomer SDK.
        
        SDK should be installed into C:\AppleInternal
        (substitute your system drive letter for C - scripts don't hard-code the drive letter)
        
        Added missing CF files to fix CFNetwork build variant

        * WebCore.vcproj/WebCore.vcproj: Use include paths, libs, DLLs from %SystemDrive%\AppleInternal
        * WebCore.vcproj/build-generated-files.sh: Don't copy open source DLLs from WebKitLibraries

2006-09-09  Adam Roben  <aroben@apple.com>

        Reviewed by hyatt.

        Remove unnecessary calls to setAffectedBy{Active,Hover}Rules

        * rendering/RenderThemeWin.cpp:
        (WebCore::RenderThemeWin::adjustMenuListStyle): Remove unnecessary calls

2006-09-06  Brady Eidson  <beidson@apple.com>

        YABF (Yet another build fix)

        * platform/win/FontDataWin.cpp: Added missing header

2006-09-06  Brady Eidson  <beidson@apple.com>

        Reviewed by Steve's rubberstamp

        Three stubs were added this morning, however the methods were already implemented in
        Internal/OpenSourceWin/WebCoreWin/bridge/win/FrameWin.cpp

        * platform/win/TemporaryLinkStubs.cpp: Nuked some repeat symbols

2006-09-06  Adam Roben  <aroben@apple.com>

        Reviewed by Darin.

        Fixed various Windows build issues caused by previous checkins.

        * bridge/win/FrameWin.h: Added missing #include, updated Selection to SelectionController.
        * platform/win/FontWin.cpp: Reorganized #includes.
        (WebCore::Font::drawGlyphs): Used a const_cast hack to fix ultimately broken code.
        * platform/win/ResourceLoaderWin.cpp: Added missing #include of CString.h and removed double #include of config.h.
        (WebCore::ResourceLoaderWndProc): Removed use of String::ascii.
        (WebCore::ResourceLoader::start): Ditto.
        * platform/win/TemporaryLinkStubs.cpp: Added missing stubs.
        (FrameWin::markMisspellings):
        (FrameWin::shouldChangeSelection):
        (FrameWin::respondToChangedSelection):
        (FrameWin::respondToChangedContents):
        (FrameWin::handledOnloadEvents):
        (FrameWin::createPlugin):
        (FrameWin::objectContentType):
        * rendering/RenderPopupMenuWin.cpp: Added missing #include.

2006-09-05  Darin Adler  <darin@apple.com>

        - build fix part of http://bugzilla.opendarwin.org/show_bug.cgi?id=10728
          text encodings should work without a numeric ID

        * WebCore.vcproj/WebCore.vcproj: Update for new headers.

2006-09-01  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by adachan.

        Process redirects received in networking layer through to application.
        With this change, the address bar url edit field shows the proper
        redirected URL.

        * platform/win/ResourceLoaderWin.cpp:
        (WebCore::ResourceLoaderWndProc):
        (WebCore::transferJobStatusCallback):
        (WebCore::ResourceLoader::start):

2006-09-01  Ada Chan  <adachan@apple.com>

        Reviewed by lamadio.

        Fixed build break.

        * bridge/win/FrameWin.h:
        * platform/win/TemporaryLinkStubs.cpp:
        (FrameWin::respondToChangedContents):

2006-08-31  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Steve.

        Add our own internal config.h so we can make changes to it.
        
        * WebCore.vcproj/WebCore.vcproj:
        Add config.h to the file list, move the KXMLCORE_PLATFORM_CF to the new config.h file 
                       
        * config.h: Added.
        
        * platform/win/ResourceLoaderWin.cpp:
        Include config.h        

2006-08-31  Dave Hyatt <hyatt@apple.com>

        Add a platform scrollbar class for Windows.  It doesn't really work yet.

        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/TemporaryLinkStubs.cpp:
        * platform/win/PlatformScrollBarWin.cpp

2006-08-31  Anders Carlsson  <acarlsson@apple.com>

        Fix the build.

        * WebCore.vcproj/WebCore.vcproj:

2006-08-30  Steve Falkenburg  <sfalken@apple.com>

        Reviewed by Ada Chan.

        Forms Auto-complete checkpoint.
        Generic forms autocomplete drop-downs are now functional.
        Address book autocomplete (and credit card autocomplete) is not functional.
        
        To do:
        - username/password pairs autofill
        - address book autofill
        - single-click autofill
        - credit card autofill
        - keychain equivalent secure store for username/passwords and credit cards
          (we currently use DPAPI to encrypt the form values plist but will want to
           protect this more sensitive info using an additional user supplied password)

        * bridge/win/FrameWin.cpp:
        (WebCore::FrameWin::submitForm): Pass form values to submit form delegate
        * bridge/win/FrameWin.h: Pass form values to submit form delegate

2006-08-29  David Hyatt  <hyatt@apple.com>

        Make project changes so that the forked Font files (and Cairo/JPG/PNG) are all used.

        * WebCore.vcproj/WebCore.vcproj:

2006-08-29  David Hyatt  <hyatt@apple.com>

        This patch lands all the font changes.  It does not patch the project file
        yet, since this was done on Mac.  Will switch to Win32 after landing this
        and then fix any glitches.

        * platform/cairo/cairo-all.c: Added.
        * platform/cairo/pixman-all.c: Added.
        * platform/image-decoders/jpeg/jpeg-part1.c: Added.
        * platform/image-decoders/jpeg/jpeg-part2.c: Added.
        * platform/image-decoders/jpeg/jpeg-part3.c: Added.
        * platform/image-decoders/png/png-part1.c: Added.
        * platform/image-decoders/png/png-part2.c: Added.
        * platform/win/FontDataWin.cpp:
        (WebCore::FontData::platformInit):
        (WebCore::FontData::platformDestroy):
        (WebCore::FontData::platformWidthForGlyph):
        * platform/win/FontPlatformData.h:
        (WebCore::FontPlatformData::FontPlatformData):
        (WebCore::FontPlatformData::cgFont):
        (WebCore::FontPlatformData::operator==):
        * platform/win/FontPlatformDataWin.cpp:
        (WebCore::m_size):
        * platform/win/FontWin.cpp:
        (WebCore::Font::drawGlyphs):

2006-08-29  David Hyatt  <hyatt@apple.com>

        Forking the font files in preparation for dropping in CG code.

        Reviewed by adam

        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/FontDataWin.cpp: Added.
        (WebCore::FontData::platformInit):
        (WebCore::FontData::platformDestroy):
        (WebCore::FontData::smallCapsFontData):
        (WebCore::FontData::containsCharacters):
        (WebCore::FontData::determinePitch):
        (WebCore::FontData::platformWidthForGlyph):
        * platform/win/FontPlatformData.h: Added.
        (WebCore::FontPlatformData::FontPlatformData):
        (WebCore::FontPlatformData::hfont):
        (WebCore::FontPlatformData::fontFace):
        (WebCore::FontPlatformData::scaledFont):
        (WebCore::FontPlatformData::size):
        (WebCore::FontPlatformData::hash):
        (WebCore::FontPlatformData::operator==):
        * platform/win/FontPlatformDataWin.cpp: Added.
        (WebCore::m_size):
        (WebCore::FontPlatformData::~FontPlatformData):
        * platform/win/FontWin.cpp: Added.
        (WebCore::notImplemented):
        (WebCore::Font::drawGlyphs):
        (WebCore::Font::selectionRectForComplexText):
        (WebCore::Font::drawComplexText):
        (WebCore::Font::floatWidthForComplexText):
        (WebCore::Font::offsetForPositionForComplexText):

2006-08-28  Geoffrey Garen  <ggaren@apple.com>

        Reviewed by Maciej.

        Landed CFNetwork loader, off by default. To enable, define:
            KXMLCORE_PLATFORM_CF
            KXMLCORE_USE_CFNETWORK

        CFNetwork uses winsock2. If you do this, you need to make sure that winsock2.h
        is included before windows.h in any translation unit in which it's used.
        A lot of the jiggering in this patch is devoted to that.
        
        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/ResourceLoaderWin.cpp: Removed reliance on PlatformData
        since it wasn't being used, and removing it made easy work of integrating
        CFNetwork in a Windows-independent way.
        (WebCore::ResourceLoaderWndProc):
        (WebCore::ResourceLoader::fileLoadTimer):
        (WebCore::ResourceLoader::cancel):
        * platform/win/TemporaryLinkStubs.cpp:
        (Path::contains):
        * platform/win/WidgetWin.cpp:
        * plugins/win/PluginDatabaseWin.cpp:
        * plugins/win/PluginPackageWin.h:
        * plugins/win/PluginViewWin.h:
        * plugins/win/npapi.cpp:
        * rendering/RenderPopupMenuWin.cpp:
        * rendering/RenderPopupMenuWin.h:
        * rendering/RenderThemeWin.cpp:

2006-08-28  Ada Chan  <adachan@apple.com>

        Reviewed by ggaren.

        Fixed build.

        * platform/win/TemporaryLinkStubs.cpp:
        (Path::contains):

2006-08-25  David Hyatt  <hyatt@apple.com>

        Land CG/Cairo refactoring (and add some winsock2.h).  (I do not really
        understand why the winsock2.h stuff would suddenly be needed.)

        * platform/win/ResourceLoaderWin.h:
        * platform/win/TemporaryLinkStubs.cpp:
        (GraphicsContext::setAlpha):
        (GraphicsContext::drawFocusRing):
        (GraphicsContext::drawLineForMisspelling):
        (GraphicsContext::setCompositeOperation):
        * plugins/win/PluginPackageWin.h:
        * plugins/win/PluginViewWin.h:
        * plugins/win/npapi.cpp:
        * rendering/RenderThemeWin.cpp:
        (WebCore::prepareForDrawing):
        (WebCore::doneDrawing):

2006-08-24  Geoffrey Garen  <ggaren@apple.com>

        Reviewed by Darin.

        Frame refactoring: changed FrameView clients so they no longer assume that
        FrameViews are Widgets that can tell you things about the platform, in 
        preparation for divorcing FrameViews from heavy-weight Widgets altogether.

        This patch makes Page, rather than Widget, responsible for holding the
        page's HWND. Refactoring aside, I think this makes more sense.

2006-08-24  Geoffrey Garen  <ggaren@apple.com>

        Reviewed by Hyatt.

        Branching PageWin.cpp from r15969.

        * WebCore.vcproj/WebCore.vcproj:
        * bridge/win/PageWin.cpp: Added.
        (WebCore::Page::Page):
        (WebCore::Page::windowRect):
        (WebCore::Page::setWindowRect):

2006-08-23  Adam Roben  <aroben@apple.com>

        Reviewed by Ada.

        Fixed placement of popups when document is scrolled.

        * rendering/RenderPopupMenuWin.cpp:
        (WebCore::RenderPopupMenuWin::setPositionAndSize):

2006-08-23  Steve Falkenburg  <sfalken@apple.com>

        Build fix (many of our include paths were wrong!)

        * WebCore.vcproj/WebCore.vcproj:

2006-08-23  Adam Roben  <aroben@apple.com>

        Reviewed by Darin, Lou, Adele.

        Initial implementation of <select> elements on Windows.

        * WebCore.vcproj/WebCore.vcproj:
            Added RenderPopupMenuWin.cpp
        * platform/win/TemporaryLinkStubs.cpp:
        (RenderPopupMenuWin::addGroupLabel):
        * rendering/RenderPopupMenuWin.cpp: Added.
        (WebCore::RenderPopupMenuWin::RenderPopupMenuWin):
        (WebCore::RenderPopupMenuWin::~RenderPopupMenuWin):
        (WebCore::RenderPopupMenuWin::clear):
        (WebCore::RenderPopupMenuWin::populate):
        (WebCore::RenderPopupMenuWin::showPopup):
        (WebCore::RenderPopupMenuWin::hidePopup):
        (WebCore::RenderPopupMenuWin::setPositionAndSize):
        (WebCore::RenderPopupMenuWin::addOption):
        (WebCore::RenderPopupMenuWin::down):
        (WebCore::RenderPopupMenuWin::up):
        (WebCore::registerPopup):
        (WebCore::PopupWndProc):
        * rendering/RenderPopupMenuWin.h:
            Added useful properties.
        (WebCore::RenderPopupMenuWin::popupHandle):
        (WebCore::RenderPopupMenuWin::containerHandle):
        (WebCore::RenderPopupMenuWin::wasClicked):
        (WebCore::RenderPopupMenuWin::setWasClicked):
        * rendering/RenderThemeWin.cpp:
        (WebCore::RenderThemeWin::RenderThemeWin):
        (WebCore::RenderThemeWin::openButtonTheme):
        (WebCore::RenderThemeWin::openTextFieldTheme):
        (WebCore::RenderThemeWin::openMenuListTheme):
        (WebCore::RenderThemeWin::close):
        (WebCore::RenderThemeWin::supportsFocus):
        (WebCore::RenderThemeWin::determineState):
        (WebCore::RenderThemeWin::getThemeData):
        (WebCore::RenderThemeWin::paintButton):
        (WebCore::RenderThemeWin::paintTextField):
            Refactored the above methods and added cases for
            MenulistAppearance where appropriate.
        (WebCore::RenderThemeWin::paintMenuList):
        (WebCore::RenderThemeWin::adjustMenuListStyle):
            Implemented the above methods.
        * rendering/RenderThemeWin.h:

2006-08-22  Geoffrey Garen  <ggaren@apple.com>

        My first Windows build fix.

        * WebCore.vcproj/WebCore.vcproj:
            - Link against version.lib, since the new plug-in stuff requires it
            - Sync the release and debug header search paths, so release
              finds the JS bindings.

2006-08-18  Anders Carlsson  <acarlsson@apple.com>

        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::write):
        (WebCore::PluginViewWin::destroyStream):
        Another attempt at fixing the build. Make these two functions into instance methods of PluginViewWin.

2006-08-18  Anders Carlsson  <acarlsson@apple.com>

        * plugins/win/PluginViewWin.cpp:
        (WebCore::write):
        (WebCore::destroyStream):
        * plugins/win/PluginViewWin.h:
        Fix build by removing unneeded parameters.

2006-08-18  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Adele.

        Have the NPN functions call into the plugin view. Implement some of the plugin view methods.

        * plugins/win/PluginViewWin.cpp:
        (WebCore::PluginViewWin::start):
        (WebCore::PluginViewWin::setCurrentPluginView):
        (WebCore::PluginViewWin::currentPluginView):
        (WebCore::PluginViewWin::getURLNotify):
        (WebCore::PluginViewWin::getURL):
        (WebCore::PluginViewWin::postURLNotify):
        (WebCore::PluginViewWin::postURL):
        (WebCore::PluginViewWin::newStream):
        (WebCore::write):
        (WebCore::destroyStream):
        (WebCore::PluginViewWin::userAgent):
        (WebCore::PluginViewWin::status):
        (WebCore::PluginViewWin::getValue):
        (WebCore::PluginViewWin::setValue):
        (WebCore::PluginViewWin::~PluginViewWin):
        (WebCore::PluginViewWin::PluginViewWin):
        * plugins/win/PluginViewWin.h:
        * plugins/win/npapi.cpp:
        (pluginViewForInstance):
        (NPN_ReloadPlugins):
        (NPN_GetURLNotify):
        (NPN_GetURL):
        (NPN_PostURLNotify):
        (NPN_PostURL):
        (NPN_NewStream):
        (NPN_Write):
        (NPN_DestroyStream):
        (NPN_UserAgent):
        (NPN_Status):
        (NPN_GetValue):
        (NPN_SetValue):

2006-08-17  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Steve and Maciej.

        Add initial implementation of plugin view.

        * WebCore.vcproj/WebCore.vcproj:
        Add files.
        
        * bridge/win/FrameWin.cpp:
        (WebCore::FrameWin::objectContentType):
        (WebCore::FrameWin::createPlugin):
        Implement these functions.
        
        * platform/win/TemporaryLinkStubs.cpp:
        Remove implemented functions.
        
        * platform/win/WidgetWin.cpp: Add this file from the open source repo
        (WebCore::Widget::~Widget):
        Call DestroyWindow on the hWnd.
        
        * plugins/win/PluginDatabaseWin.cpp:
        (WebCore::PluginDatabaseWin::createPluginView):
        New function which creates a plugin view.
        
        * plugins/win/PluginDatabaseWin.h:
        
        * plugins/win/PluginPackageWin.cpp:
        (WebCore::PluginPackageWin::load):
        Assign the browser functions. They are just stubs for now.
               
        * plugins/win/PluginViewWin.cpp: Added.
        (WebCore::registerPluginView):
        (WebCore::PluginViewWndProc):
        (WebCore::PluginViewWin::invokeSetWindow):
        (WebCore::PluginViewWin::start):
        (WebCore::PluginViewWin::stop):
        (WebCore::createUTF8String):
        (WebCore::createUTF8StringArray):
        (WebCore::freeStringArray):
        (WebCore::PluginViewWin::~PluginViewWin):
        (WebCore::PluginViewWin::PluginViewWin):
        * plugins/win/PluginViewWin.h: Added.
        (WebCore::PluginViewWin::plugin):
        (WebCore::PluginViewWin::instance):
        * plugins/win/npapi.cpp: Added.
        (NPN_MemAlloc):
        (NPN_MemFree):
        (NPN_MemFlush):
        (NPN_ReloadPlugins):
        (NPN_RequestRead):
        (NPN_GetURLNotify):
        (NPN_GetURL):
        (NPN_PostURLNotify):
        (NPN_PostURL):
        (NPN_NewStream):
        (NPN_Write):
        (NPN_DestroyStream):
        (NPN_UserAgent):
        (NPN_Status):
        (NPN_InvalidateRect):
        (NPN_InvalidateRegion):
        (NPN_ForceRedraw):
        (NPN_GetValue):
        (NPN_SetValue):
        (NPN_GetJavaEnv):
        (NPN_GetJavaPeer):

2006-08-17  Anders Carlsson  <acarlsson@apple.com>

        Reviewed by Maciej.

        Add initial implementation of plugin database.
        
        * WebCore.vcproj/WebCore.vcproj:
        Add new files.
        
        * platform/win/TemporaryLinkStubs.cpp:
        Get rid of the PlugInInfoStore stubs.

        * plugins/win/PlugInInfoStoreWin.cpp: Added.
        (WebCore::PlugInInfoStore::createPluginInfoForPluginAtIndex):
        (WebCore::PlugInInfoStore::pluginCount):
        (WebCore::PlugInInfoStore::supportsMIMEType):
        (WebCore::refreshPlugins):
        * plugins/win/PluginDatabaseWin.cpp: Added.
        (WebCore::PluginDatabaseWin::installedPlugins):
        (WebCore::PluginDatabaseWin::refresh):
        (WebCore::PluginDatabaseWin::plugins):
        (WebCore::PluginDatabaseWin::getPluginsInPaths):
        (WebCore::PluginDatabaseWin::defaultPluginPaths):
        (WebCore::PluginDatabaseWin::isMIMETypeRegistered):
        (WebCore::PluginDatabaseWin::pluginForMIMEType):
        (WebCore::PluginDatabaseWin::pluginForExtension):
        * plugins/win/PluginDatabaseWin.h: Added.
        (WebCore::PluginDatabaseWin::setPluginPaths):
        * plugins/win/PluginPackageWin.cpp: Added.
        (WebCore::PluginPackageWin::~PluginPackageWin):
        (WebCore::getVersionInfo):
        (WebCore::splitString):
        (WebCore::PluginPackageWin::PluginPackageWin):
        (WebCore::PluginPackageWin::fetchInfo):
        (WebCore::PluginPackageWin::load):
        (WebCore::PluginPackageWin::unload):
        (WebCore::PluginPackageWin::unloadWithoutShutdown):
        (WebCore::PluginPackageWin::createPackage):
        (WebCore::PluginPackageWin::hash):
        (WebCore::PluginPackageWin::equal):
        * plugins/win/PluginPackageWin.h: Added.
        (WebCore::PluginPackageWin::name):
        (WebCore::PluginPackageWin::description):
        (WebCore::PluginPackageWin::fileName):
        (WebCore::PluginPackageWin::mimeToDescriptions):
        (WebCore::PluginPackageWin::mimeToExtensions):
        (WebCore::PluginPackageWin::pluginFuncs):
        (WebCore::PluginPackageWinHash::hash):
        (WebCore::PluginPackageWinHash::equal):
        (WTF::):
        * plugins/win/npfunctions.h: Added.

2006-08-17  Adam Roben  <aroben@apple.com>

        Removing this unintentionally added file.

        * rendering/RenderPopupMenuWin.cpp: Removed.

2006-08-17  Adam Roben  <aroben@apple.com>

        Reviewed by Steve.

        Branching files from OpenSource tree r15924 to prepare for <select>
        element implementation.

        * WebCore.vcproj/WebCore.vcproj:
        * rendering/RenderPopupMenuWin.h: Added.
        (WebCore::RenderPopupMenuWin::RenderPopupMenuWin):
        * rendering/RenderThemeWin.cpp: Added.
        (WebCore::theme):
        (WebCore::m_textFieldTheme):
        (WebCore::RenderThemeWin::~RenderThemeWin):
        (WebCore::RenderThemeWin::close):
        (WebCore::RenderThemeWin::platformActiveSelectionBackgroundColor):
        (WebCore::RenderThemeWin::platformInactiveSelectionBackgroundColor):
        (WebCore::RenderThemeWin::platformActiveSelectionForegroundColor):
        (WebCore::RenderThemeWin::platformInactiveSelectionForegroundColor):
        (WebCore::RenderThemeWin::addIntrinsicMargins):
        (WebCore::RenderThemeWin::supportsFocus):
        (WebCore::RenderThemeWin::determineState):
        (WebCore::RenderThemeWin::getThemeData):
        (WebCore::RenderThemeWin::adjustButtonStyle):
        (WebCore::prepareForDrawing):
        (WebCore::doneDrawing):
        (WebCore::RenderThemeWin::paintButton):
        (WebCore::RenderThemeWin::setCheckboxSize):
        (WebCore::RenderThemeWin::setRadioSize):
        (WebCore::RenderThemeWin::adjustTextFieldStyle):
        (WebCore::RenderThemeWin::paintTextField):
        (WebCore::RenderThemeWin::adjustTextAreaStyle):
        (WebCore::RenderThemeWin::paintTextArea):
        (WebCore::RenderThemeWin::createPopupMenu):
        * rendering/RenderThemeWin.h: Added.
        (WebCore::ThemeData::m_state):
        (WebCore::RenderThemeWin::supportsHover):
        (WebCore::RenderThemeWin::paintCheckbox):
        (WebCore::RenderThemeWin::paintRadio):

2006-08-15  Steve Falkenburg  <sfalken@apple.com>

        Pull TemporaryLinkStubs.cpp into internal tree to fix the build.

        * WebCore.vcproj/WebCore.vcproj:
        * platform/win/TemporaryLinkStubs.cpp: Added.
        (notImplemented):
        (FrameView::updateBorder):
        (FrameView::isFrameView):
        (PopUpButton::focusPolicy):
        (PopUpButton::populate):
        (Widget::enableFlushDrawing):
        (Widget::isEnabled):
        (Widget::focusPolicy):
        (Widget::disableFlushDrawing):
        (Widget::lockDrawingFocus):
        (Widget::unlockDrawingFocus):
        (JavaAppletWidget::JavaAppletWidget):
        (TextField::selectAll):
        (TextField::addSearchResult):
        (TextField::selectionStart):
        (TextField::hasSelectedText):
        (TextField::selectedText):
        (TextField::setAutoSaveName):
        (TextField::checksDescendantsForFocus):
        (TextField::setSelection):
        (TextField::setMaxResults):
        (TextField::edited):
        (Slider::Slider):
        (Slider::sizeHint):
        (Slider::setValue):
        (Slider::setMaxValue):
        (Slider::setMinValue):
        (Slider::~Slider):
        (Slider::setFont):
        (Slider::value):
        (ListBox::setSelected):
        (ListBox::sizeForNumberOfLines):
        (ListBox::isSelected):
        (ListBox::appendItem):
        (ListBox::doneAppendingItems):
        (ListBox::setWritingDirection):
        (ListBox::setEnabled):
        (ListBox::clear):
        (ListBox::checksDescendantsForFocus):
        (FileButton::FileButton):
        (FileButton::click):
        (FileButton::sizeForCharacterWidth):
        (FileButton::focusPolicy):
        (FileButton::frameGeometry):
        (FileButton::setFilename):
        (FileButton::baselinePosition):
        (FileButton::setFrameGeometry):
        (FileButton::setDisabled):
        (Slider::focusPolicy):
        (ListBox::focusPolicy):
        (TextField::focusPolicy):
        (Cursor::Cursor):
        (PlatformMouseEvent::PlatformMouseEvent):
        (WebCore::searchableIndexIntroduction):
        (WebCore::findNextSentenceFromIndex):
        (WebCore::findSentenceBoundary):
        (WebCore::findNextWordFromIndex):
        (WebCore::ServeSynchronousRequest):
        (FrameWin::focusWindow):
        (FrameWin::unfocusWindow):
        (FrameWin::locationbarVisible):
        (FrameWin::issueRedoCommand):
        (FrameWin::getObjectInstanceForWidget):
        (FrameWin::getEmbedInstanceForWidget):
        (FrameWin::canRedo):
        (FrameWin::canUndo):
        (FrameWin::registerCommandForRedo):
        (FrameWin::runJavaScriptPrompt):
        (FrameWin::shouldInterruptJavaScript):
        (FrameWin::openURL):
        (FrameWin::print):
        (FrameWin::getAppletInstanceForWidget):
        (FrameWin::passMouseDownEventToWidget):
        (FrameWin::issueCutCommand):
        (FrameWin::issueCopyCommand):
        (FrameWin::passWheelEventToChildWidget):
        (FrameWin::issueUndoCommand):
        (FrameWin::mimeTypeForFileName):
        (FrameWin::issuePasteCommand):
        (FrameWin::scheduleClose):
        (FrameWin::markMisspellings):
        (FrameWin::menubarVisible):
        (FrameWin::personalbarVisible):
        (FrameWin::statusbarVisible):
        (FrameWin::toolbarVisible):
        (FrameWin::issueTransposeCommand):
        (FrameWin::canPaste):
        (FrameWin::objectContentType):
        (FrameWin::canGoBackOrForward):
        (FrameWin::issuePasteAndMatchStyleCommand):
        (FrameWin::createPlugin):
        (BrowserExtensionWin::canRunModal):
        (BrowserExtensionWin::createNewWindow):
        (BrowserExtensionWin::canRunModalNow):
        (BrowserExtensionWin::runModal):
        (BrowserExtensionWin::goBackOrForward):
        (BrowserExtensionWin::historyURL):
        (GraphicsContext::addRoundedRectClip):
        (GraphicsContext::addInnerRoundedRectClip):
        (WebCore::screenDepthPerComponent):
        (WebCore::screenIsMonochrome):
        (WebCore::moveCursor):
        (WebCore::historyContains):
        (WebCore::submitButtonDefaultLabel):
        (WebCore::inputElementAltText):
        (WebCore::resetButtonDefaultLabel):
        (WebCore::defaultLanguage):
        (WebCore::findWordBoundary):
        (PlugInInfoStore::createPluginInfoForPluginAtIndex):
        (PlugInInfoStore::pluginCount):
        (WebCore::PlugInInfoStore::supportsMIMEType):
        (WebCore::refreshPlugins):
        (WebCore::ResourceLoader::assembleResponseHeaders):
        (WebCore::ResourceLoader::retrieveCharset):
        (FrameWin::restoreDocumentState):
        (FrameWin::partClearedInBegin):
        (FrameWin::createEmptyDocument):
        (FrameWin::overrideMediaType):
        (FrameWin::handledOnloadEvents):
        (FrameWin::markedTextRange):
        (FrameWin::passSubframeEventToSubframe):
        (FrameWin::lastEventIsMouseUp):
        (FrameWin::addMessageToConsole):
        (FrameWin::shouldChangeSelection):
        (FrameWin::respondToChangedSelection):
        (FrameWin::createFrame):
        (FrameWin::saveDocumentState):
        (FrameWin::registerCommandForUndo):
        (FrameWin::clearUndoRedoOperations):
        (FrameWin::incomingReferrer):
        (FrameWin::markMisspellingsInAdjacentWords):
        (FrameWin::respondToChangedContents):
        (BrowserExtensionWin::BrowserExtensionWin):
        (BrowserExtensionWin::setTypedIconURL):
        (BrowserExtensionWin::setIconURL):
        (BrowserExtensionWin::getHistoryLength):
        (WebCore::CheckIfReloading):
        (WebCore::CheckCacheObjectStatus):
        (Widget::setEnabled):
        (Widget::paint):
        (Widget::setIsSelected):
        (ScrollView::addChild):
        (ScrollView::removeChild):
        (ScrollView::scrollPointRecursively):
        (ScrollView::inWindow):
        (GraphicsContext::setShadow):
        (GraphicsContext::clearShadow):
        (GraphicsContext::beginTransparencyLayer):
        (GraphicsContext::endTransparencyLayer):
        (GraphicsContext::clearRect):
        (GraphicsContext::strokeRect):
        (GraphicsContext::setLineWidth):
        (GraphicsContext::setLineCap):
        (GraphicsContext::setLineJoin):
        (GraphicsContext::setMiterLimit):
        (GraphicsContext::setAlpha):
        (GraphicsContext::setCompositeOperation):
        (GraphicsContext::clip):
        (GraphicsContext::translate):
        (GraphicsContext::rotate):
        (GraphicsContext::scale):
        (Path::Path):
        (Path::~Path):
        (Path::contains):
        (Path::translate):
        (Path::boundingRect):
        (Path::operator=):
        (Path::clear):
        (Path::moveTo):
        (Path::addLineTo):
        (Path::addQuadCurveTo):
        (Path::addBezierCurveTo):
        (Path::addArcTo):
        (Path::closeSubpath):
        (Path::addArc):
        (Path::addRect):
        (Path::addEllipse):
        (TextField::TextField):
        (TextField::~TextField):
        (TextField::setFont):
        (TextField::setAlignment):
        (TextField::setWritingDirection):
        (TextField::maxLength):
        (TextField::setMaxLength):
        (TextField::text):
        (TextField::setText):
        (TextField::cursorPosition):
        (TextField::setCursorPosition):
        (TextField::setEdited):
        (TextField::setReadOnly):
        (TextField::setPlaceholderString):
        (TextField::setColors):
        (TextField::sizeForCharacterWidth):
        (TextField::baselinePosition):
        (TextField::setLiveSearch):
        (PopUpButton::PopUpButton):
        (PopUpButton::~PopUpButton):
        (PopUpButton::setFont):
        (PopUpButton::baselinePosition):
        (PopUpButton::setWritingDirection):
        (PopUpButton::clear):
        (PopUpButton::appendItem):
        (PopUpButton::setCurrentItem):
        (PopUpButton::sizeHint):
        (PopUpButton::frameGeometry):
        (PopUpButton::setFrameGeometry):
        (PlatformScrollBar::PlatformScrollBar):
        (PlatformScrollBar::~PlatformScrollBar):
        (PlatformScrollBar::width):
        (PlatformScrollBar::height):
        (PlatformScrollBar::setEnabled):
        (PlatformScrollBar::paint):
        (PlatformScrollBar::setScrollBarValue):
        (PlatformScrollBar::setKnobProportion):
        (PlatformScrollBar::setRect):
        (ScrollBar::ScrollBar):
        (ScrollBar::setSteps):
        (ScrollBar::scroll):
        (ScrollBar::setValue):
        (ScrollBar::setKnobProportion):
        (ListBox::ListBox):
        (ListBox::~ListBox):
        (ListBox::setSelectionMode):
        (ListBox::setFont):
        (WebCore::focusRingColor):
        (WebCore::setFocusRingColorChangeFunction):
        (Frame::setNeedsReapplyStyles):
        (Image::drawTiled):
        (RenderPopupMenuWin::~RenderPopupMenuWin):
        (RenderPopupMenuWin::clear):
        (RenderPopupMenuWin::populate):
        (RenderPopupMenuWin::showPopup):
        (RenderPopupMenuWin::addSeparator):
        (RenderPopupMenuWin::addGroupLabel):
        (RenderPopupMenuWin::addOption):
        (RenderThemeWin::paintMenuList):
        (RenderThemeWin::adjustMenuListStyle):
        (RenderThemeWin::systemFont):

2006-08-15  Steve Falkenburg  <sfalken@apple.com>

        Fix the build with TOT.

        * WebCore.vcproj/WebCore.vcproj:

2006-08-15  Steve Falkenburg  <sfalken@apple.com>

        Get this building.

        * WebCore.vcproj/WebCore.sln:
        * WebCore.vcproj/WebCore.vcproj:
        * WebCore.vcproj/build-generated-files.sh:

2006-08-15  Steve Falkenburg  <sfalken@apple.com>

        Initial check-in.

        * ChangeLog: Added.
        * WebCore.vcproj/WebCore.sln: Added.
        * WebCore.vcproj/WebCore.vcproj: Added.
        * WebCore.vcproj/build-generated-files.sh: Added.
        * bridge/win/FrameWin.cpp: Added.
        (WebCore::FrameWin::FrameWin):
        (WebCore::FrameWin::~FrameWin):
        (WebCore::FrameWin::urlSelected):
        (WebCore::FrameWin::submitForm):
        (WebCore::FrameWin::userAgent):
        (WebCore::FrameWin::runJavaScriptAlert):
        (WebCore::FrameWin::runJavaScriptConfirm):
        (WebCore::FrameWin::keyPress):
        (WebCore::FrameWin::setTitle):
        (WebCore::FrameWin::setStatusBarText):
        (WebCore::FrameWin::textFieldDidBeginEditing):
        (WebCore::FrameWin::textFieldDidEndEditing):
        (WebCore::FrameWin::textDidChangeInTextField):
        (WebCore::FrameWin::doTextFieldCommandFromEvent):
        (WebCore::FrameWin::textWillBeDeletedInTextField):
        (WebCore::FrameWin::textDidChangeInTextArea):
        * bridge/win/FrameWin.h: Added.
        (WebCore::Win):
        * platform/win/ResourceLoaderWin.cpp: Added.
        (WebCore::addToOutstandingJobs):
        (WebCore::removeFromOutstandingJobs):
        (WebCore::lookupResourceLoader):
        (WebCore::ResourceLoaderWndProc):
        (WebCore::initializeOffScreenResourceLoaderWindow):
        (WebCore::ResourceLoaderInternal::~ResourceLoaderInternal):
        (WebCore::ResourceLoader::~ResourceLoader):
        (WebCore::transferJobStatusCallback):
        (WebCore::ResourceLoader::start):
        (WebCore::ResourceLoader::fileLoadTimer):
        (WebCore::ResourceLoader::cancel):
        * platform/win/ResourceLoaderWin.h: Added.
